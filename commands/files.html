

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>File I/O &mdash; kOS 0.19.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/kos_theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
        <link rel="copyright" title="Copyright" href="../copyright.html"/>
    <link rel="top" title="kOS 0.19.1 documentation" href="../index.html"/>
        <link rel="up" title="Command Reference" href="../commands.html"/>
        <link rel="next" title="Terminal and game environment" href="terminalgui.html"/>
        <link rel="prev" title="Querying a vessel’s parts" href="parts.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../contents.html" class="icon icon-home"> kOS
          

          
            
            <img src="../_static/kos_logo_small.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.19.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contents.html">Table of Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../downloads_links.html">Downloads and Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../library.html">Community Example Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math.html">Mathematics</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../commands.html">Commands</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="flight.html">Flight Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="prediction.html">Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="list.html">Listing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="parts.html">Parts Information</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">File I/O</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="terminalgui.html">Terminal and GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="resource_transfer.html">Resource Transfer</a></li>
<li class="toctree-l2"><a class="reference internal" href="processors.html">Processors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../structures.html">Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addons.html">Addons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Changes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../contents.html">kOS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../contents.html">Docs</a> &raquo;</li>
      
          <li><a href="../commands.html">Command Reference</a> &raquo;</li>
      
    <li>File I/O</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/commands/files.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="file-i-o">
<span id="files"></span><h1>File I/O<a class="headerlink" href="#file-i-o" title="Permalink to this headline">¶</a></h1>
<p>For information about where files are kept and how to deal with volumes see the <a class="reference internal" href="../general/volumes.html#volumes"><span>Volumes</span></a> page in the general topics section of this documentation.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#volume-and-filename-arguments" id="id6">Volume and Filename arguments</a></li>
<li><a class="reference internal" href="#compile-program-to-compiledprogram" id="id7">COMPILE program (TO compiledProgram).</a></li>
<li><a class="reference internal" href="#copy-programfile-from-to-volume-volumeid-volumename" id="id8">COPY programFile FROM/TO Volume|volumeId|volumeName.</a><ul>
<li><a class="reference internal" href="#arguments" id="id9">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#delete-filename-from-volume-volumeid-volumename" id="id10">DELETE filename FROM Volume|volumeId|volumeName.</a><ul>
<li><a class="reference internal" href="#id1" id="id11">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#edit-program" id="id12">EDIT program.</a><ul>
<li><a class="reference internal" href="#id2" id="id13">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#log-text-to-filename" id="id14">LOG text TO filename.</a><ul>
<li><a class="reference internal" href="#id3" id="id15">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rename-volume-volume-volumeid-oldvolumename-to-name" id="id16">RENAME VOLUME Volume|volumeId|oldVolumeName TO name.</a></li>
<li><a class="reference internal" href="#rename-file-oldname-to-newname" id="id17">RENAME FILE oldName TO newName.</a><ul>
<li><a class="reference internal" href="#id4" id="id18">Arguments</a></li>
</ul>
</li>
<li><a class="reference internal" href="#run-once-program" id="id19">RUN [ONCE] &lt;program&gt;.</a><ul>
<li><a class="reference internal" href="#id5" id="id20">Arguments</a></li>
<li><a class="reference internal" href="#important-exceptions-to-the-usual-filename-rules-for-run" id="id21">Important exceptions to the usual filename rules for RUN</a></li>
</ul>
</li>
<li><a class="reference internal" href="#switch-to-volume-volumeid-volumename" id="id22">SWITCH TO Volume|volumeId|volumeName.</a></li>
<li><a class="reference internal" href="#exists-filename" id="id23">EXISTS(FILENAME).</a></li>
<li><a class="reference internal" href="#create-filename" id="id24">CREATE(FILENAME).</a></li>
<li><a class="reference internal" href="#open-filename" id="id25">OPEN(FILENAME).</a></li>
<li><a class="reference internal" href="#writejson-object-filename" id="id26">WRITEJSON(OBJECT, FILENAME).</a></li>
<li><a class="reference internal" href="#readjson-filename" id="id27">READJSON(FILENAME).</a></li>
<li><a class="reference internal" href="#special-handling-of-files-starting-with-boot-example-boot-ks" id="id28">Special handling of files starting with &#8220;boot&#8221; (example <code class="docutils literal"><span class="pre">boot.ks</span></code>)</a></li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><em>Limitations on file names used for programs</em></p>
<p>All file names used as program names with the <code class="docutils literal"><span class="pre">run</span></code> command must be
valid identifiers.  They can not contain spaces or special characters. For
example, you can&#8217;t have a program named <code class="docutils literal"><span class="pre">this</span> <span class="pre">is</span> <span class="pre">my-file.ks</span></code>.  This rule
does not necessarily apply to other filenames such as log files.  However
to use a filename that contains spaces, you will have to put quotes around
it.</p>
<p class="last">On case-sensitive filesystems typically found on Linux and Mac, you should
name program files used with the <code class="docutils literal"><span class="pre">run</span></code> command entirely with
lowercase-only filenames or the system may fail to find them when you
use the <code class="docutils literal"><span class="pre">run</span></code> command.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<div class="last versionchanged">
<p><span class="versionmodified">Changed in version 0.15: </span><strong>Archive location and file extension change</strong></p>
<p>The Archive where KerboScript files are kept has been changed from <code class="docutils literal"><span class="pre">Plugins/PluginData/Archive</span></code> to <code class="docutils literal"><span class="pre">Ships/Script</span></code>, but still under the top-level <strong>KSP</strong> installation directory. The file name extensions have also changes from <code class="docutils literal"><span class="pre">.txt</span></code> to <code class="docutils literal"><span class="pre">.ks</span></code>.</p>
</div>
</div>
<div class="section" id="volume-and-filename-arguments">
<h2><a class="toc-backref" href="#id6">Volume and Filename arguments</a><a class="headerlink" href="#volume-and-filename-arguments" title="Permalink to this headline">¶</a></h2>
<p>Any of the commands below which use filename arguments, **with the
exception
of the RUN command**, follow these rules:</p>
<ul class="simple">
<li>(expression filenames) A filename may be an expression which
evaluates to a string.</li>
<li>(bareword filenames) A filename may also be an undefined identifier
which does not match a variable name, in which case the bare word
name of the identifier will be used as the filename. If the
identifier does match a variable name, then it will be evaluated as
an expression and the variable&#8217;s contents will be used as the
filename.</li>
<li>A bareword filename may contain file extensions with dots, provided
it does not end in a dot.</li>
<li>Commands that try to read files will add &#8216;.ks&#8217; to filenames if
the original filename was not found, for example <code class="docutils literal"><span class="pre">RUN</span> <span class="pre">abc.</span></code>
will first look for a file named <code class="docutils literal"><span class="pre">abc</span></code>. If such a file is not found
it will look for <code class="docutils literal"><span class="pre">abc.ks</span></code>.</li>
</ul>
<p>Putting the above rules together, you can refer to filenames in any of
the following ways:</p>
<ul class="simple">
<li>copy myfilename to 1. // This is an example of a bareword filename.</li>
<li>copy &#8220;myfilename&#8221; to 1. // This is an example of an EXPRESSION
filename.</li>
<li>copy myfilename.ks to 1. // This is an example of a bareword
filename.</li>
<li>copy myfilename.txt to 1. // This is an example of a bareword
filename.</li>
<li>copy &#8220;myfilename.ks&#8221; to 1. // This is an example of an EXPRESSION
filename</li>
<li>set str to &#8220;myfile&#8221; + &#8220;name&#8221; + &#8221;.ks&#8221;. copy str to 1. // This is an
example of an EXPRESSION filename</li>
</ul>
<p><strong>Limits:</strong></p>
<p>The following rules apply as limitations to the bareword filenames:</p>
<ul class="simple">
<li>The <strong>RUN command only works with bareword filenames</strong>, not
expression filenames. Every other command works with either type of
filename.</li>
<li>Filenames containing any characters other than A-Z, 0-9, underscore,
and the period extension separator (&#8216;.&#8217;), can only be referred to
using a string expression (with quotes), and cannot be used as a
bareword expression (without quotes).</li>
<li>If your filesystem is case-sensitive (Linux and sometimes Mac OSX, or
even Windows if using some kinds of remote network drives), then
bareword filenames will only work properly on filenames that are all
lowercase. If you try to use a file with capital letters in the name
on these systems, you will only be able to do so by quoting it.</li>
</ul>
<p><strong>Volumes too:</strong></p>
<p>The rules for filenames also apply to volumes. You may do this for
example:</p>
<ul class="simple">
<li>set volNum to 1. copy &#8220;myfile&#8221; to volNum.</li>
</ul>
</div>
<div class="section" id="compile-program-to-compiledprogram">
<h2><a class="toc-backref" href="#id7">COMPILE program (TO compiledProgram).</a><a class="headerlink" href="#compile-program-to-compiledprogram" title="Permalink to this headline">¶</a></h2>
<p><strong>(experimental)</strong></p>
<p>Arguments:</p>
<blockquote>
<div><dl class="docutils">
<dt>argument 1</dt>
<dd>Name of source file.</dd>
<dt>argument 2</dt>
<dd>Name of destination file. If the optional argument 2 is missing, it will assume it&#8217;s the same as argument 1, but with a file extension changed to <code class="docutils literal"><span class="pre">*.ksm</span></code>.</dd>
</dl>
</div></blockquote>
<p>Pre-compiles a script into an <a class="reference internal" href="../general/compiling.html#compiling"><span>Kerboscript ML Exceutable
image</span></a> that can be used
instead of executing the program script directly.</p>
<p>The RUN command (elsewhere on this page) can work with either *.ks
script files or *.ksm compiled files.</p>
<p>The full details of this process are long and complex enough to be
placed on a separate page.</p>
<p>Please see <a class="reference internal" href="../general/compiling.html#compiling"><span>the details of the Kerboscript ML
Executable</span></a>.</p>
</div>
<div class="section" id="copy-programfile-from-to-volume-volumeid-volumename">
<h2><a class="toc-backref" href="#id8">COPY programFile FROM/TO Volume|volumeId|volumeName.</a><a class="headerlink" href="#copy-programfile-from-to-volume-volumeid-volumename" title="Permalink to this headline">¶</a></h2>
<div class="section" id="arguments">
<h3><a class="toc-backref" href="#id9">Arguments</a><a class="headerlink" href="#arguments" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>argument 1: Name of target file.</li>
<li>argument 2: Target volume.</li>
</ul>
<p>Copies a file to or from another volume. Volumes can be referenced by
instances of <a class="reference internal" href="../structures/volumes_and_files/volume.html#structure:VOLUME" title="VOLUME structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Volume</span></code></a>, their ID numbers or their names if they’ve been given one. See LIST,
SWITCH and RENAME.</p>
<p>Understanding how <a class="reference internal" href="../general/volumes.html#volumes"><span>volumes
work</span></a> is important to
understanding this command.</p>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">SWITCH</span> <span class="ow">TO</span> <span class="mf">1</span><span class="p">.</span>                      <span class="c1">// Makes volume 1 the active volume</span>
<span class="k">COPY</span> <span class="nv">file1</span> <span class="k">FROM</span> <span class="mf">0</span><span class="p">.</span>                <span class="c1">// Copies a file called file1.ks from volume 0 to volume 1</span>
<span class="k">COPY</span> <span class="nv">file2</span> <span class="ow">TO</span> <span class="mf">0</span><span class="p">.</span>                  <span class="c1">// Copies a file called file2.ks from volume 1 to volume 0</span>
<span class="k">COPY</span> <span class="nv">file1</span><span class="p">.</span><span class="nv">ks</span> <span class="k">FROM</span> <span class="mf">0</span><span class="p">.</span>             <span class="c1">// Copies a file called file1.ks from volume 0 to volume 1</span>
<span class="k">COPY</span> <span class="nv">file2</span><span class="p">.</span><span class="nv">ksm</span> <span class="ow">TO</span> <span class="mf">0</span><span class="p">.</span>              <span class="c1">// Copies a file called file2.ksm from volume 1 to volume 0</span>
<span class="k">COPY</span> <span class="s">&quot;file1.ksm&quot;</span> <span class="k">FROM</span> <span class="mf">0</span><span class="p">.</span>          <span class="c1">// Copies a file called file1.ksm from volume 0 to volume 1</span>
<span class="k">COPY</span> <span class="s">&quot;file1&quot;</span> <span class="o">+</span> <span class="s">&quot;.&quot;</span> <span class="o">+</span> <span class="s">&quot;ks&quot;</span> <span class="k">FROM</span> <span class="mf">0</span><span class="p">.</span> <span class="c1">// Copies a file called file1.ks from volume 0 to volume 1</span>
<span class="k">COPY</span> <span class="nv">file2</span><span class="p">.</span><span class="nv">ksm</span> <span class="ow">TO</span> <span class="nv">CORE</span><span class="p">:</span><span class="k">VOLUME</span><span class="p">.</span>    <span class="c1">// Copies a file called file2.ksm to active processor&#39;s volume</span>
<span class="k">COPY</span> <span class="nv">file2</span><span class="p">.</span><span class="nv">ksm</span> <span class="ow">TO</span> <span class="s">&quot;other&quot;</span><span class="p">.</span>        <span class="c1">// Copies a file called file2.ksm to volume named &#39;other&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="delete-filename-from-volume-volumeid-volumename">
<h2><a class="toc-backref" href="#id10">DELETE filename FROM Volume|volumeId|volumeName.</a><a class="headerlink" href="#delete-filename-from-volume-volumeid-volumename" title="Permalink to this headline">¶</a></h2>
<p>Deletes a file. Volumes can be referenced by instances of <a class="reference internal" href="../structures/volumes_and_files/volume.html#structure:VOLUME" title="VOLUME structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Volume</span></code></a>, their ID numbers or their names
if they’ve been given one.</p>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id11">Arguments</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>argument 1: Name of target file.</li>
<li>argument 2: (optional) Target volume.</li>
</ul>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">DELETE</span> <span class="nv">file1</span><span class="p">.</span>                   <span class="c1">// Deletes file1.ks from the active volume.</span>
<span class="k">DELETE</span> <span class="s">&quot;file1&quot;</span><span class="p">.</span>                 <span class="c1">// Deletes file1.ks from the active volume.</span>
<span class="k">DELETE</span> <span class="nv">file1</span><span class="p">.</span><span class="nv">txt</span><span class="p">.</span>               <span class="c1">// Deletes file1.txt from the active volume.</span>
<span class="k">DELETE</span> <span class="s">&quot;file1.txt&quot;</span><span class="p">.</span>             <span class="c1">// Deletes file1.txt from the active volume.</span>
<span class="k">DELETE</span> <span class="nv">file1</span> <span class="k">FROM</span> <span class="mf">1</span><span class="p">.</span>            <span class="c1">// Deletes file1.ks from volume 1</span>
<span class="k">DELETE</span> <span class="nv">file1</span> <span class="k">FROM</span> <span class="nv">CORE</span><span class="p">:</span><span class="k">VOLUME</span><span class="p">.</span>  <span class="c1">// Deletes file1.ks from active processor&#39;s volume</span>
<span class="k">DELETE</span> <span class="nv">file1</span> <span class="k">FROM</span> <span class="s">&quot;other&quot;</span><span class="p">.</span>      <span class="c1">// Deletes file1.ks from volume name &#39;other&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="edit-program">
<h2><a class="toc-backref" href="#id12">EDIT program.</a><a class="headerlink" href="#edit-program" title="Permalink to this headline">¶</a></h2>
<p>Edits a program on the currently selected volume.</p>
<div class="section" id="id2">
<h3><a class="toc-backref" href="#id13">Arguments</a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>argument 1: Name of file for editing.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Edit feature was lost in version 0.11 but is back again after version 0.12.2 under a new guise. The new editor is unable to show a monospace font for a series of complex reasons involving how Unity works and how squad bundled the KSP game. The editor works, but will be in a proportional width font, which isn&#8217;t ideal for editing code. The best way to edit code remains to use a text editor external to KSP, however for a fast peek at the code during play, this editor is useful.</p>
</div>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">EDIT</span> <span class="nv">filename</span><span class="p">.</span>       <span class="c1">// edits filename.ks</span>
<span class="k">EDIT</span> <span class="nv">filename</span><span class="p">.</span><span class="nv">ks</span><span class="p">.</span>    <span class="c1">// edits filename.ks</span>
<span class="k">EDIT</span> <span class="s">&quot;filename.ks&quot;</span><span class="p">.</span>  <span class="c1">// edits filename.ks</span>
<span class="k">EDIT</span> <span class="s">&quot;filename&quot;</span><span class="p">.</span>     <span class="c1">// edits filename.ks</span>
<span class="k">EDIT</span> <span class="s">&quot;filename.txt&quot;</span><span class="p">.</span> <span class="c1">// edits filename.txt</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="log-text-to-filename">
<h2><a class="toc-backref" href="#id14">LOG text TO filename.</a><a class="headerlink" href="#log-text-to-filename" title="Permalink to this headline">¶</a></h2>
<p>Logs the selected text to a file on the local volume. Can print strings, or the result of an expression.</p>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id15">Arguments</a><a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>argument 1: Value you would like to log.</li>
<li>argument 2: Name of file to log into.</li>
</ul>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">LOG</span> <span class="s">&quot;Hello&quot;</span> <span class="ow">to</span> <span class="nv">mylog</span><span class="p">.</span><span class="nv">txt</span><span class="p">.</span>    <span class="c1">// logs to &quot;mylog.txt&quot;.</span>
<span class="k">LOG</span> <span class="mf">4</span><span class="o">+</span><span class="mf">1</span> <span class="ow">to</span> <span class="s">&quot;mylog&quot;</span> <span class="p">.</span>         <span class="c1">// logs to &quot;mylog.ks&quot; because .ks is the default extension.</span>
<span class="k">LOG</span> <span class="s">&quot;4 times 8 is: &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="mf">4</span><span class="o">*</span><span class="mf">8</span><span class="p">)</span> <span class="ow">to</span> <span class="nv">mylog</span><span class="p">.</span>   <span class="c1">// logs to mylog.ks because .ks is the default extension.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="rename-volume-volume-volumeid-oldvolumename-to-name">
<h2><a class="toc-backref" href="#id16">RENAME VOLUME Volume|volumeId|oldVolumeName TO name.</a><a class="headerlink" href="#rename-volume-volume-volumeid-oldvolumename-to-name" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="rename-file-oldname-to-newname">
<h2><a class="toc-backref" href="#id17">RENAME FILE oldName TO newName.</a><a class="headerlink" href="#rename-file-oldname-to-newname" title="Permalink to this headline">¶</a></h2>
<p>Renames a file or volume. Volumes can be referenced by
instances of <a class="reference internal" href="../structures/volumes_and_files/volume.html#structure:VOLUME" title="VOLUME structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Volume</span></code></a>, their ID numbers or their names if they&#8217;ve been given one.</p>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id18">Arguments</a><a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>argument 1: Volume/File Name you would like to change.</li>
<li>argument 2: New name for $1.</li>
</ul>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">RENAME</span> <span class="k">VOLUME</span> <span class="mf">1</span> <span class="ow">TO</span> <span class="nv">AwesomeDisk</span>
<span class="k">RENAME</span> <span class="k">FILE</span> <span class="nv">MyFile</span> <span class="ow">TO</span> <span class="nv">AutoLaunch</span><span class="p">.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-once-program">
<span id="run-once"></span><h2><a class="toc-backref" href="#id19">RUN [ONCE] &lt;program&gt;.</a><a class="headerlink" href="#run-once-program" title="Permalink to this headline">¶</a></h2>
<p>Runs the specified file as a program, optionally passing information to the program in the form of a comma-separated list of arguments in parentheses.</p>
<p>If the optional <code class="docutils literal"><span class="pre">ONCE</span></code> keyword is used after the word <code class="docutils literal"><span class="pre">RUN</span></code>, it means
the run will not actually occur if the program has already been run once
during the current program context.  This is intended mostly for loading library
program files that may have mainline code in them for initialization purposes
that you don&#8217;t want to get run a second time just because you use the library
in two different subprograms.</p>
<p><code class="docutils literal"><span class="pre">RUN</span> <span class="pre">ONCE</span></code> means &#8220;Run unless it&#8217;s already been run, in which case skip it.&#8221;</p>
<div class="section" id="id5">
<h3><a class="toc-backref" href="#id20">Arguments</a><a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>&lt;program&gt;: File to run.</li>
<li>comma-separated-args: a list of values to pass into the program.</li>
</ul>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">RUN</span> <span class="nv">AutoLaunch</span><span class="p">.</span><span class="nv">ks</span><span class="p">.</span>
<span class="k">RUN</span> <span class="nv">AutoLaunch</span><span class="p">.</span><span class="nv">ksm</span><span class="p">.</span>
<span class="k">RUN</span> <span class="nv">AutoLaunch</span><span class="p">.</span>      <span class="c1">// runs AutoLaunch.ksm if available, else runs AutoLaunch.ks.</span>
<span class="k">RUN</span> <span class="nv">AutoLaunch</span><span class="p">(</span> <span class="mf">75000</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span> <span class="p">).</span>
<span class="k">RUN</span> <span class="nv">AutoLaunch</span><span class="p">.</span><span class="nv">ks</span><span class="p">(</span> <span class="mf">75000</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span> <span class="p">).</span>
<span class="k">RUN</span> <span class="nv">AutoLaunch</span><span class="p">.</span><span class="nv">ksm</span><span class="p">(</span> <span class="mf">75000</span><span class="p">,</span> <span class="nb">true</span><span class="p">,</span> <span class="s">&quot;hello&quot;</span> <span class="p">).</span>

<span class="k">RUN</span> <span class="k">ONCE</span> <span class="nv">myLibrary</span><span class="p">.</span> <span class="c1">// run myLibrary unless it&#39;s been run already.</span>
</pre></div>
</div>
<p>The program that is reading the arguments sees them in the variables it
mentions in <a class="reference internal" href="../language/variables.html#declare-parameter"><span>DECLARE PARAMETER</span></a>.</p>
</div>
<div class="section" id="important-exceptions-to-the-usual-filename-rules-for-run">
<h3><a class="toc-backref" href="#id21">Important exceptions to the usual filename rules for RUN</a><a class="headerlink" href="#important-exceptions-to-the-usual-filename-rules-for-run" title="Permalink to this headline">¶</a></h3>
<p>The RUN command does not allow the same sorts of generic open-ended
filenames that the other
file commands allow. This is very important.</p>
<p>RUN only works when the filename is a bareword filename. It cannot use expression filenames:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">RUN</span> <span class="s">&quot;ProgName&quot;</span>   <span class="c1">// THIS WILL FAIL.  Run needs a bareword filename.</span>
<span class="k">SET</span> <span class="nv">ProgName</span> <span class="ow">to</span> <span class="s">&quot;MyProgram&quot;</span><span class="p">.</span>
<span class="k">RUN</span> <span class="nv">ProgName</span>     <span class="c1">// THIS WILL FAIL also.  It will attempt to run a file</span>
                 <span class="c1">// called &quot;ProgName.ksm&quot; or &quot;ProgName.ks&quot;, when it sees this,</span>
                 <span class="c1">// rather than &quot;MyProgram&quot;.</span>
</pre></div>
</div>
<p>The reasons for the exception to how filenames work for the RUN command are
too complex to go into in large detail here. Here&#8217;s the short version: While
the kOS system does defer the majority of the work of actually compiling
subprogram scripts until run-time, it still has to generate some header info
about them at compile time, and the filename has to be set in stone at that
time. Changing this would require a large re-write of some of the architecture
of the virtual machine.</p>
</div>
</div>
<div class="section" id="switch-to-volume-volumeid-volumename">
<h2><a class="toc-backref" href="#id22">SWITCH TO Volume|volumeId|volumeName.</a><a class="headerlink" href="#switch-to-volume-volumeid-volumename" title="Permalink to this headline">¶</a></h2>
<p>Switches to the specified volume. Volumes can be referenced by
instances of <a class="reference internal" href="../structures/volumes_and_files/volume.html#structure:VOLUME" title="VOLUME structure"><code class="xref ks ks-struct docutils literal"><span class="pre">Volume</span></code></a>, their ID numbers or their names if they&#8217;ve been given one. See LIST and RENAME. Understanding how
<a class="reference internal" href="../general/volumes.html#volumes"><span>volumes work</span></a> is important to understanding this command.</p>
<p>Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">SWITCH</span> <span class="ow">TO</span> <span class="mf">0</span><span class="p">.</span>                        <span class="c1">// Switch to volume 0.</span>
<span class="k">RENAME</span> <span class="k">VOLUME</span> <span class="mf">1</span> <span class="ow">TO</span> <span class="nv">AwesomeDisk</span><span class="p">.</span>     <span class="c1">// Name volume 1 as AwesomeDisk.</span>
<span class="k">SWITCH</span> <span class="ow">TO</span> <span class="nv">AwesomeDisk</span><span class="p">.</span>              <span class="c1">// Switch to volume 1.</span>
<span class="k">PRINT</span> <span class="k">VOLUME</span><span class="p">:</span><span class="nv">NAME</span><span class="p">.</span>                  <span class="c1">// Prints &quot;AwesomeDisk&quot;.</span>
</pre></div>
</div>
</div>
<div class="section" id="exists-filename">
<h2><a class="toc-backref" href="#id23">EXISTS(FILENAME).</a><a class="headerlink" href="#exists-filename" title="Permalink to this headline">¶</a></h2>
<p>A shortcut for <code class="docutils literal"><span class="pre">CORE:CURRENTVOLUME:EXISTS(FILENAME)</span></code>. See <a class="reference internal" href="../structures/volumes_and_files/volume.html#method:VOLUME:EXISTS" title="VOLUME:EXISTS method"><code class="xref ks ks-meth docutils literal"><span class="pre">Volume:EXISTS</span></code></a>.</p>
</div>
<div class="section" id="create-filename">
<h2><a class="toc-backref" href="#id24">CREATE(FILENAME).</a><a class="headerlink" href="#create-filename" title="Permalink to this headline">¶</a></h2>
<p>A shortcut for <code class="docutils literal"><span class="pre">CORE:CURRENTVOLUME:CREATE(FILENAME)</span></code>. See <a class="reference internal" href="../structures/volumes_and_files/volume.html#method:VOLUME:CREATE" title="VOLUME:CREATE method"><code class="xref ks ks-meth docutils literal"><span class="pre">Volume:CREATE</span></code></a>.</p>
</div>
<div class="section" id="open-filename">
<h2><a class="toc-backref" href="#id25">OPEN(FILENAME).</a><a class="headerlink" href="#open-filename" title="Permalink to this headline">¶</a></h2>
<p>A shortcut for <code class="docutils literal"><span class="pre">CORE:CURRENTVOLUME:OPEN(FILENAME)</span></code>. See <a class="reference internal" href="../structures/volumes_and_files/volume.html#method:VOLUME:OPEN" title="VOLUME:OPEN method"><code class="xref ks ks-meth docutils literal"><span class="pre">Volume:OPEN</span></code></a>.</p>
</div>
<div class="section" id="writejson-object-filename">
<span id="writejson"></span><h2><a class="toc-backref" href="#id26">WRITEJSON(OBJECT, FILENAME).</a><a class="headerlink" href="#writejson-object-filename" title="Permalink to this headline">¶</a></h2>
<p>Serializes the given object to JSON format and saves it under the given filename on the current volume.</p>
<p><strong>Important:</strong> only certain types of objects can be serialized. If a type is serializable then that fact
is explicitly mentioned in the type&#8217;s documentation like so:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This type is serializable.</p>
</div>
<p>Usage example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="nv">L</span> <span class="ow">TO</span> <span class="nv">LEXICON</span><span class="p">().</span>
<span class="k">SET</span> <span class="nv">NESTED</span> <span class="ow">TO</span> <span class="nv">QUEUE</span><span class="p">().</span>

<span class="nv">L</span><span class="p">:</span><span class="k">ADD</span><span class="p">(</span><span class="s">&quot;key1&quot;</span><span class="p">,</span> <span class="s">&quot;value1&quot;</span><span class="p">).</span>
<span class="nv">L</span><span class="p">:</span><span class="k">ADD</span><span class="p">(</span><span class="s">&quot;key2&quot;</span><span class="p">,</span> <span class="nv">NESTED</span><span class="p">).</span>

<span class="nv">NESTED</span><span class="p">:</span><span class="k">ADD</span><span class="p">(</span><span class="s">&quot;nestedvalue&quot;</span><span class="p">).</span>

<span class="nv">WRITEJSON</span><span class="p">(</span><span class="nv">l</span><span class="p">,</span> <span class="s">&quot;output.json&quot;</span><span class="p">).</span>
</pre></div>
</div>
</div>
<div class="section" id="readjson-filename">
<h2><a class="toc-backref" href="#id27">READJSON(FILENAME).</a><a class="headerlink" href="#readjson-filename" title="Permalink to this headline">¶</a></h2>
<p>Reads the contents of a file previously created using <code class="docutils literal"><span class="pre">WRITEJSON</span></code> and deserializes them. Example:</p>
<div class="highlight-kerboscript"><div class="highlight"><pre><span></span><span class="k">SET</span> <span class="nv">L</span> <span class="ow">TO</span> <span class="nv">READJSON</span><span class="p">(</span><span class="s">&quot;output.json&quot;</span><span class="p">).</span>
<span class="k">PRINT</span> <span class="nv">L</span><span class="p">[</span><span class="s">&quot;key1&quot;</span><span class="p">].</span>
</pre></div>
</div>
</div>
<div class="section" id="special-handling-of-files-starting-with-boot-example-boot-ks">
<span id="boot"></span><h2><a class="toc-backref" href="#id28">Special handling of files starting with &#8220;boot&#8221; (example <code class="docutils literal"><span class="pre">boot.ks</span></code>)</a><a class="headerlink" href="#special-handling-of-files-starting-with-boot-example-boot-ks" title="Permalink to this headline">¶</a></h2>
<p><strong>(experimental)</strong></p>
<p>For users requiring even more automation, the feature of custom boot scripts was introduced. If you have at least 1 file in your Archive volume starting with &#8220;boot&#8221; (for example &#8220;boot.ks&#8221;, &#8220;boot2.ks&#8221; or even &#8220;boot_custom_script.ks&#8221;), you will be presented with the option to choose one of those files as a boot script for your kOS CPU.</p>
<img alt="http://i.imgur.com/05kp7Sy.jpg" src="http://i.imgur.com/05kp7Sy.jpg" />
<p>As soon as you vessel leaves VAB/SPH and is being initialised on the launchpad (e.g. its status is PRELAUNCH) the assigned script will be copied to CPU&#8217;s local hard disk with the same name.  If kOS is configured to start on the archive, the file will not be copied locally automatically. This script will be run as soon as CPU boots, e.g. as soon as you bring your CPU in physics range or power on your CPU if it was turned off.  You may get or set the name of the boot file using the <a class="reference internal" href="../structures/core.html#core"><span>core:bootfilename</span></a> suffix.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<div class="last versionchanged">
<p><span class="versionmodified">Changed in version 0.18: </span><strong>boot file name changed</strong></p>
<p>Previously boot files were copied to the local hard disk as &#8220;boot.ks&#8221;.  This behaviour was changed so that boot files could be handled consistently if kOS is configured to start on the Archive.  Some scripts may have terminated with a generic &#8220;delete boot.&#8221; line to clear the boot script.  Going forward you should use the new core:bootfilename suffix when dealing the boot file.</p>
</div>
</div>
<dl class="docutils">
<dt>Important things to consider:</dt>
<dd><ul class="first last simple">
<li>kOS CPU hard disk space is limited, avoid using complex boot scripts or increase disk space using MM config.</li>
<li>Boot script runs immediately on initialisation, it should avoid interaction with parts/modules until physics fully load. It is best to wait for couple seconds or until certain trigger.</li>
</ul>
</dd>
</dl>
<p>Possible uses for boot scripts:</p>
<blockquote>
<div><ul class="simple">
<li>Automatically activate sleeper/background scripts which will run on CPU until triggered by certain condition.</li>
<li>Create basic station-keeping scripts - you will only have to focus your probes once in a while and let the boot script do the orbit adjustment automatically.</li>
<li>Create multi-CPU vessels with certain cores dedicated to specific tasks, triggered by user input or external events (Robotic-heavy Vessels)</li>
<li>Anything else you can come up with</li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="terminalgui.html" class="btn btn-neutral float-right" title="Terminal and game environment" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="parts.html" class="btn btn-neutral" title="Querying a vessel’s parts" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../copyright.html">Copyright</a> 2013-2016, Developed and maintained by kOS Team, Originally By Nivekk.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.19.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>